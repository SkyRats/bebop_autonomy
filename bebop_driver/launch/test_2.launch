<?xml version="1.0"?>
<launch>

    <arg name="drone_type" default="bebop2" /> <!-- available drone types: bebop1, bebop2 -->
    <arg name="config_file" default="$(find bebop_driver)/config/defaults.yaml" />
    <arg name="camera_info_url" default="package://bebop_driver/data/$(arg drone_type)_camera_calib.yaml" />
    <group ns="drone_1">
        <node pkg="bebop_driver" name="bebop_driver_1" type="bebop_driver_node" output="screen">
            <param name="camera_info_url" value="$(arg camera_info_url)" />
            <param name="bebop_ip" value="192.168.1.51" />
            <rosparam command="load" file="$(arg config_file)" />
            <param name="bebop_d2c_port" value="43217" />
            <param name="bebop_discovery_port" value="44444" />
        </node>
        <include file="$(find bebop_description)/launch/description.launch" />
    </group>

    <group ns="drone_2">
        <node pkg="bebop_driver" name="bebop_driver_2" type="bebop_driver_node" output="screen">
            <param name="camera_info_url" value="$(arg camera_info_url)" />
            <param name="bebop_ip" value="192.168.1.52" />
            <rosparam command="load" file="$(arg config_file)" />
            <param name="bebop_d2c_port" value="43210" />
            <param name="bebop_discovery_port" value="44444" />
        </node>
        <include file="$(find bebop_description)/launch/description.launch" />
    </group>
</launch>